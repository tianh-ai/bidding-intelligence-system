# 浏览器验证清单

## 访问地址
- **前端**: http://localhost:13000
- **后端**: http://localhost:18888

## 验证步骤

### 1. 登录测试 ✓
1. 打开 http://localhost:13000
2. 使用以下凭据登录：
   - 用户名: `admin`
   - 密码: `admin123`
3. **预期结果**: 
   - 登录成功，跳转到首页
   - 右上角显示 "admin" （不是"访客"）
   - 角色应该是 "admin"

### 2. AI对话功能测试 ✓
1. 点击右上角 "AI助手" 图标打开聊天面板
2. **检查UI元素**:
   - ✓ 模型选择下拉框（应显示 DeepSeek Chat, 通义千问 Plus）
   - ✓ 📎 附件按钮（可以上传文件）
   - ✓ ⚡ 提示词按钮（显示数量：4个模板）
3. **测试对话**:
   - 在输入框输入 "你好"
   - 点击发送
   - **预期结果**: AI应该正常回复（不是 "⚠️ AI 响应失败"）

### 3. 附件上传测试
1. 在AI助手中点击 📎 按钮
2. 选择一个文件（PDF、Word、TXT或图片）
3. **预期结果**:
   - 文件应该显示在附件列表中
   - 最多可以上传5个附件
   - 每个附件有删除按钮 (×)

### 4. 提示词快捷选择测试
1. 点击 ⚡ 按钮
2. **预期结果**: 应该显示下拉菜单，包含4个提示词模板:
   - 招标文件分析
   - 逻辑规则提取
   - 投标文件生成
   - 内容合规性检查
3. 选择一个模板
4. **预期结果**: 提示词内容应自动填入输入框

### 5. 文件上传页面测试
1. 点击左侧菜单 "文件上传"
2. 点击"选择文件"或拖拽文件到上传区域
3. 选择一个PDF或Word文件
4. 点击"开始上传"
5. **预期结果**:
   - 上传进度条显示
   - 上传成功后显示文件列表
   - **不应该显示 "上传失败"**

### 6. 模型管理测试（如果有权限）
1. 查看是否有 "LLM模型管理" 菜单
2. **预期结果**: 应该显示已配置的模型列表

## 已知正常功能（后端测试通过）

✅ **健康检查** - /health 正常
✅ **认证系统** - Admin角色正确
✅ **LLM对话** - DeepSeek正常响应
✅ **提示词系统** - 4个模板可用
✅ **文件上传后端** - API完全正常

## 如果遇到问题

### "⚠️ AI 响应失败"
- **已修复**: LLMRouter方法调用错误
- **解决方案**: 刷新浏览器（Ctrl+Shift+R 强制刷新）

### "上传失败"
- **后端已验证**: 上传API完全正常
- **可能原因**: 
  1. 文件类型不支持（仅支持 PDF, DOC, DOCX, XLS, XLSX, TXT）
  2. 文件过大
  3. 浏览器缓存问题
- **解决方案**: 
  1. 检查文件类型
  2. 清除浏览器缓存
  3. 打开浏览器控制台（F12）查看具体错误

### "无法访问此网站"
- **原因**: Docker容器未运行或端口配置错误
- **检查命令**: `docker ps` 应该显示 bidding_frontend 在5173端口
- **重启方案**: `docker restart bidding_frontend`

## 控制台调试

在浏览器按 F12 打开开发者工具，查看：
1. **Console** 标签 - 查看JavaScript错误
2. **Network** 标签 - 查看API请求
   - 检查请求URL是否正确
   - 检查返回状态码（应该是200）
   - 检查返回内容
3. **Application** 标签 - 查看LocalStorage中的token

## 后端日志查看

如果前端有问题，可以查看后端日志：

```bash
# 查看前端Docker日志
docker logs bidding_frontend --tail 50

# 查看后端Docker日志
docker logs bidding_backend --tail 50

# 查看所有服务状态
docker ps
```

## 测试总结

**后端测试**: 所有5项测试 ✅ 通过
**前端测试**: 需要在浏览器中验证上述6项功能

请按照上述清单逐项验证，并报告任何失败的项目。
